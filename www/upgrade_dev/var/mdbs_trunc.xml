<?xml version="1.0" encoding="ISO-8859-1" ?>
<?xml-stylesheet type="text/xsl" href="/upgrade_dev/xsl/mdb2_schema.xsl"?>
<database>

 <name>mdbs_core</name>
 <create>true</create>
 <overwrite>false</overwrite>
 <version>v3.0.0</version>
 <status>final</status>
 <comments>this is the latest core schema file</comments>

 <table>

  <name>ad_zone_assoc</name>

  <type>innodb</type>

  <declaration>

   <field>
    <name>ad_zone_assoc_id</name>
    <type>integer</type>
    <length>3</length>
    <notnull>true</notnull>
    <default>0</default>
    <autoincrement>1</autoincrement>
   </field>

   <field>
    <name>zone_id</name>
    <type>integer</type>
    <length>3</length>
    <notnull>false</notnull>
    <default></default>
   </field>

   <field>
    <name>ad_id</name>
    <type>integer</type>
    <length>3</length>
    <notnull>false</notnull>
    <default></default>
   </field>

   <field>
    <name>priority</name>
    <type>float</type>
    <notnull>false</notnull>
    <default>0</default>
   </field>

   <field>
    <name>link_type</name>
    <type>integer</type>
    <length>2</length>
    <notnull>true</notnull>
    <default>1</default>
   </field>

   <index>
    <name>primary</name>
    <primary>true</primary>
    <field>
     <name>ad_zone_assoc_id</name>
     <sorting>ascending</sorting>
    </field>
   </index>

   <index>
    <name>zone_id</name>
    <field>
     <name>zone_id</name>
     <sorting>ascending</sorting>
    </field>
   </index>

   <index>
    <name>ad_id</name>
    <field>
     <name>ad_id</name>
     <sorting>ascending</sorting>
    </field>
   </index>

    <foreignkey>
        <symbol>fksym1</symbol>
        <name>fk_adzoassoc_ad_id</name>
        <field>
            <name>ad_id</name>
        </field>
        <reference>
            <table>
                <name>banners</name>
                <field>
                    <name>bannerid</name>
                </field>
            </table>
        </reference>
        <onupdate>cascade</onupdate>
        <ondelete>restrict</ondelete>
    </foreignkey>

    <foreignkey>
        <symbol>fksym2</symbol>
        <name>fk_adzoassoc_zone_id</name>
        <field>
            <name>zone_id</name>
        </field>
        <reference>
            <table>
                <name>zones</name>
                <field>
                    <name>zone_id</name>
                </field>
            </table>
        </reference>
        <onupdate>cascade</onupdate>
        <ondelete>restrict</ondelete>
    </foreignkey>
   <!--note>
    [CONSTRAINT symbol] FOREIGN KEY [id] (index_col_name, ...)
        REFERENCES tbl_name (index_col_name, ...)
        [ON DELETE {RESTRICT | CASCADE | SET NULL | NO ACTION}]
        [ON UPDATE {RESTRICT | CASCADE | SET NULL | NO ACTION}]
    <note-->
  </declaration>

 </table>


</database>
