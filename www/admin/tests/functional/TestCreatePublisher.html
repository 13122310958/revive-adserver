<html>
<head><title>TestCreatePublisher</title></head>
<p>This test assumes that an agency already exists, and that a legal agreement
is loaded into the system.</p>
<p>Rob Hunter couldn't make this test run because the checkbox for <q>publisher has
already agreed to the terms of service</q> was disabled.</p>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">TestCreatePublisher</td></tr>
</thead><tbody>
<tr>
	<td>open</td>
	<td>/tests/setup.php?scenario=one_of_each</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>username</td>
	<td>agency</td>
</tr>
<tr>
	<td>type</td>
	<td>password</td>
	<td>agency</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//input[@type='submit' and @value='Login']</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Publishers & Zones</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>Fresh Publisher</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Add new publisher</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name</td>
	<td>Fresh Publisher</td>
</tr>
<tr>
	<td>type</td>
	<td>mnemonic</td>
	<td>fresh</td>
</tr>
<tr>
	<td>type</td>
	<td>website</td>
	<td>http://fresh.example.com/</td>
</tr>
<tr>
	<td>type</td>
	<td>contact</td>
	<td>Fresh</td>
</tr>
<tr>
	<td>type</td>
	<td>email</td>
	<td>fresh@example.com</td>
</tr>
<tr>
	<td>type</td>
	<td>username</td>
	<td>fresh</td>
</tr>
<tr>
	<td>type</td>
	<td>password</td>
	<td>secret</td>
</tr>
<tr>
	<td>type</td>
	<td>comments</td>
	<td>This publisher is created for automated functional testing.</td>
</tr>
<tr>
	<td>click</td>
	<td>tax_id_present_f</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>terms_and_conditions</td>
	<td>off</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//input[@type='submit' and @value='Next &gt;']</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>username</td>
	<td>fresh</td>
</tr>
<tr>
	<td>type</td>
	<td>password</td>
	<td>secret</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//input[@type='submit' and @value='Login']</td>
	<td></td>
</tr>
<tr>
	<td>verifyTextPresent</td>
	<td>This is an example legal agreement.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>name=agree</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//input[@type='submit' and @value='Continue']</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>An Agency - Zone overview</td>
	<td></td>
</tr>
<tr>
	<td>verifyTextPresent</td>
	<td>Zone overview</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>username</td>
	<td>fresh</td>
</tr>
<tr>
	<td>type</td>
	<td>password</td>
	<td>secret</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//input[@type='submit' and @value='Login']</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>An Agency - Zone overview</td>
	<td></td>
</tr>
<tr>
	<td>verifyTextPresent</td>
	<td>Zone overview</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>username</td>
	<td>agency</td>
</tr>
<tr>
	<td>type</td>
	<td>password</td>
	<td>agency</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//input[@type='submit' and @value='Login']</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Publishers & Zones</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Delete Delete</td>
	<td></td>
</tr>
<tr>
	<td>verifyConfirmation</td>
	<td>Do you really want to delete this publisher?</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Logout</td>
	<td></td>
</tr>
<tr>
    <td>open</td>
    <td>/tests/teardown.php</td>
    <td></td>
</tr>
</tbody></table>
</body>
</html>
