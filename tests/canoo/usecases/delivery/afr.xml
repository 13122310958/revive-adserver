<?xml version="1.0"?>
<!DOCTYPE project SYSTEM "../includes/WebTest.dtd" [
  <!ENTITY config SYSTEM "file:../includes/config.xml">
  <!ENTITY checkForErrors SYSTEM "file:../modules/errors.xml">
  <!ENTITY checkDeliveryCookies SYSTEM "file:../modules/cookies.xml">
  <!ENTITY verifyLinks SYSTEM "file:../modules/links.xml">
]
>

<project name="Openads" basedir=".." default="main">
  <import file="../includes/init.xml"/>
  <import file="${webtest.home}/lib/taskdef.xml"/>

  <target name="main">

    <testSpec name="Login">
      &config;
      <steps>
        <invoke description="Invoke delivery file" url="/delivery/afr.php?what=bannerid:2" />
        &checkForErrors;
        &checkDeliveryCookies;
        &verifyLinks;
        <verifyTitle description="Check that title contains 'Advertisement'" text="Advertisement" />
        <verifyText description="Check that ad prints: 'html test banner'" regex="true" text="html test banner" />
      </steps>

    </testSpec>

</target>

</project>